<div (window:resize)="onResize($event)" [style.height.px]="previewDimensions.height">
  <div class="b-window-header d-flex">
    <span class="b-window-title">Compositor</span>
    <div class="d-flex justify-content-between w-100">
      <span class="b-window-ongoing">Editando
        <span class="font-weight-bold">Examen Seguridad 1</span>
      </span>
      <div class="d-flex">
        <div class="control-button button-blue2">
          <i class="fa fa-check"></i> Guardar cambios
        </div>
        <div class="control-button button-blue2">
          <i class="fa fa-save"></i> Guardar como...
        </div>
        <div class="control-button button-teal">
          <i class="fa fa-cloud-download"></i> Descargar como .pdf
        </div>
      </div>
    </div>
  </div>

  <!-- Left Menu -->

  <div class="menu-section section-left">
    <div class="b-card-wrapper">
      <div class="b-card">
        <!-- Generation -->
        <div class="b-card-header">
          Generación
        </div>
        <div class="b-card-subheader d-flex justify-content-between">
          <span class="subheader-text">Colecciones</span>
          <div class="subheader-button">
            <i class="fa fa-plus"></i>
            <span> Añadir</span>
          </div>
        </div>
        <div class="collection-list">
          <div *ngFor="let collection of collectionItems" class="collection-item d-flex justify-content-between">
            <div class="collection-left">
              <p class="collection-name">{{ collection }}</p>
              <small class="collection-details">10 test, 5 cortas, 2 largas</small>
            </div>
            <span class="collection-controls">
              <i class="fa fa-times collection-controls-delete"></i>
            </span>
          </div>
        </div>
        <div class="b-card-subheader d-flex justify-content-between">
          <span class="subheader-text">Opciones</span>
        </div>
        <div class="p-1">
          <table class="table">
            <thead>
              <tr style="text-align: center;">
                <th scope="col">Tipo</th>
                <th scope="col">Cantidad</th>
                <th scope="col">Valoración</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row">Test</th>
                <td>
                  <div class="input-group">
                    <input type="number" class="form-control" aria-describedby="helpId">
                    <div class="input-group-append">
                      <span class="input-group-text">/46</span>
                    </div>
                  </div>
                </td>
                <td>
                  <div class="input-group">
                    <input type="number" class="form-control" aria-describedby="helpId">
                    <div class="input-group-append">
                      <span class="input-group-text">/10</span>
                    </div>
                  </div>
                </td>
              </tr>
              <tr>
                <th scope="row">Ejericios</th>
                <td>
                  <div class="input-group">
                    <input type="number" class="form-control" aria-describedby="helpId">
                    <div class="input-group-append">
                      <span class="input-group-text">/20</span>
                    </div>
                  </div>
                </td>
                <td>
                  <div class="input-group">
                    <input type="number" class="form-control" aria-describedby="helpId">
                    <div class="input-group-append">
                      <span class="input-group-text">/10</span>
                    </div>
                  </div>
                </td>
              </tr>
              <tr>
                <th scope="row">Problemas</th>
                <td>
                  <div class="input-group">
                    <input type="number" class="form-control" aria-describedby="helpId">
                    <div class="input-group-append">
                      <span class="input-group-text">/6</span>
                    </div>
                  </div>
                </td>
                <td>
                  <div class="input-group">
                    <input type="number" class="form-control" aria-describedby="helpId">
                    <div class="input-group-append">
                      <span class="input-group-text">/10</span>
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
          <p style="font-weight: 500;">Dificultad:</p>
          <div class="d-flex justify-content-between">
            <span>Facil</span>
            <span>Intermedio</span>
            <span>Dificil</span>
          </div>
          <div class="slidecontainer">
            <input type="range" min="1" max="3" value="2" class="slider">
          </div>
        </div>
        <div class="fullwidth-button button-green">
          Generar
        </div>
      </div>
    </div>
  </div>

  <!-- Right Menu -->

  <div class="menu-section section-right">
    <div class="b-card-wrapper">
      <div class="b-card">
        <div class="b-card-header">
          Estructura
        </div>
        <div class="row">
          <div class="col-6">
            <div class="fullwidth-button-small button-blue2">
              <i class="fa fa-plus"></i> Apartado
            </div>
          </div>
          <div class="col-6">
            <div class="fullwidth-button-small button-blue2">
              <i class="fa fa-share"></i> Importar
            </div>
          </div>
        </div>
        <div class="b-card-body">
          <div *ngFor="let q of examItems; let i = index" class="ap-container">
            <div class="ap-header d-flex justify-content-between">
              <div class="ap-header-left">
                <span class="ap-header-diff">
                  <span class="ml-1">
                    <i class="fa fa-circle"></i>
                  </span>
                  <span *ngIf="q.difficulty >= 2" class="ml-1">
                    <i class="fa fa-circle"></i>
                  </span>
                  <span *ngIf="q.difficulty == 3" class="ml-1">
                    <i class="fa fa-circle"></i>
                  </span>
                </span>
                <span class="ap-header-name"> Pregunta {{ i + 1 }}</span>
                <span class="ap-header-points"> {{ q.points }} puntos</span>
              </div>
              <div class="ap-header-right">
                <span>{{ q.type }}</span>
              </div>
            </div>
            <div (click)="expandQuestion(i)" [class.expanded]="q.expanded" class="ap-body">
              {{ q.expanded ? q.content : q.content | trim:110:true }}
            </div>
            <div class="ap-footer">
              <span class="d-flex justify-content-between">
                <div>
                  <button type="button" class="btn btn-link edit-button linkbutton-blue">
                    <i class="fa fa-edit"></i>&nbsp;Editar</button>
                  <button type="button" class="btn btn-link edit-button linkbutton-red">
                    <i class="fa fa-trash"></i>&nbsp;Descartar</button>
                </div>
                <i *ngIf="q.content.length > 110" class="fa expand-arrow" [class.fa-sort-down]="!q.expanded" [class.fa-sort-up]="q.expanded"></i>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <!-- Main -->

  <div class="section-main" [style.width.px]="previewDimensions.width">
    <div class="preview-container">
      <div class="page-container" [style.width.px]="paperDimensions.width" [style.height.px]="paperDimensions.height">
        <div *ngFor="let q of examItems; let i = index">
          {{ i }}
        </div>
      </div>
    </div>
  </div>
</div>